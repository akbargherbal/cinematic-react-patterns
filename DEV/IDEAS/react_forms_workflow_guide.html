<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>React Forms Workflow - Visual Guide</title>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Highlight.js for syntax highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/jsx.min.js"></script>
    
    <style>
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        }
        
        .phase-box {
            border: 3px dashed #cbd5e1;
            position: relative;
        }
        
        .phase-label {
            position: absolute;
            top: -12px;
            left: 16px;
            background: white;
            padding: 0 8px;
            font-weight: 700;
            font-size: 14px;
            color: #475569;
        }
        
        .controlled-box {
            border: 2px solid #10b981;
            background: linear-gradient(to bottom, #d1fae5, white);
        }
        
        .uncontrolled-box {
            border: 2px solid #3b82f6;
            background: linear-gradient(to bottom, #dbeafe, white);
        }
        
        .validation-flow {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            border-radius: 8px;
        }
        
        .validation-onChange {
            background: linear-gradient(to right, #fef3c7, #fde68a);
            border-left: 4px solid #f59e0b;
        }
        
        .validation-onBlur {
            background: linear-gradient(to right, #dbeafe, #bfdbfe);
            border-left: 4px solid #3b82f6;
        }
        
        .validation-onSubmit {
            background: linear-gradient(to right, #fecaca, #fca5a5);
            border-left: 4px solid #ef4444;
        }
        
        .error-display {
            border: 2px solid #ef4444;
            background: #fee2e2;
            padding: 8px;
            border-radius: 4px;
            font-size: 12px;
            color: #991b1b;
        }
        
        .state-shape {
            border: 2px solid #8b5cf6;
            background: rgba(139, 92, 246, 0.05);
            padding: 16px;
            border-radius: 8px;
        }
        
        .checklist-item {
            display: flex;
            align-items: start;
            gap: 8px;
            margin: 8px 0;
        }
        
        .checklist-checkbox {
            width: 20px;
            height: 20px;
            margin-top: 2px;
            flex-shrink: 0;
        }
        
        .form-field {
            margin-bottom: 12px;
        }
        
        .form-label {
            display: block;
            font-weight: 600;
            margin-bottom: 4px;
            font-size: 14px;
        }
        
        .form-input {
            width: 100%;
            padding: 8px 12px;
            border: 2px solid #d1d5db;
            border-radius: 6px;
            font-size: 14px;
        }
        
        .form-input-error {
            border-color: #ef4444;
        }
        
        .arrow-flow {
            width: 0;
            height: 0;
            border-left: 12px solid transparent;
            border-right: 12px solid transparent;
            border-top: 20px solid #6366f1;
            margin: 8px auto;
        }
        
        /* Highlight.js customizations */
        pre code.hljs {
            border-radius: 0.5rem;
            padding: 1rem;
            font-size: 0.875rem;
            line-height: 1.5;
        }
        
        /* Inline code styling */
        code:not(.hljs) {
            background: #f3f4f6;
            padding: 0.125rem 0.375rem;
            border-radius: 0.25rem;
            font-size: 0.875em;
            color: #1f2937;
            font-family: 'Courier New', monospace;
        }
    </style>
</head>
<body class="bg-gray-50 p-8">
    
    <!-- Header -->
    <div class="max-w-6xl mx-auto mb-12">
        <h1 class="text-4xl font-bold text-gray-900 mb-2">React Forms Workflow</h1>
        <p class="text-xl text-gray-600">From Design ‚Üí Validation ‚Üí Submission</p>
        <p class="text-sm text-gray-500 mt-2">Total time: ~90 minutes | Skill level: Beginner to Intermediate</p>
    </div>

    <!-- Quick Checklist -->
    <div class="max-w-6xl mx-auto mb-8 bg-white rounded-lg shadow-md p-6">
        <h2 class="text-2xl font-bold mb-4 text-gray-900">üìã The Form Workflow Checklist</h2>
        
        <div class="grid md:grid-cols-3 gap-6">
            <div>
                <h3 class="font-bold text-lg mb-3 text-blue-700">Phase 1: Design (10 min)</h3>
                <div class="checklist-item">
                    <input type="checkbox" class="checklist-checkbox">
                    <span class="text-sm">List all fields needed</span>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" class="checklist-checkbox">
                    <span class="text-sm">Sketch form structure</span>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" class="checklist-checkbox">
                    <span class="text-sm">Define validation rules</span>
                </div>

                <h3 class="font-bold text-lg mb-3 mt-6 text-green-700">Phase 2: State (15 min)</h3>
                <div class="checklist-item">
                    <input type="checkbox" class="checklist-checkbox">
                    <span class="text-sm">Controlled vs uncontrolled?</span>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" class="checklist-checkbox">
                    <span class="text-sm">Create state object</span>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" class="checklist-checkbox">
                    <span class="text-sm">Initialize empty/default values</span>
                </div>
            </div>

            <div>
                <h3 class="font-bold text-lg mb-3 text-yellow-700">Phase 3: Handlers (20 min)</h3>
                <div class="checklist-item">
                    <input type="checkbox" class="checklist-checkbox">
                    <span class="text-sm">onChange handlers</span>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" class="checklist-checkbox">
                    <span class="text-sm">onSubmit handler</span>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" class="checklist-checkbox">
                    <span class="text-sm">Prevent default behavior</span>
                </div>

                <h3 class="font-bold text-lg mb-3 mt-6 text-purple-700">Phase 4: Validation (25 min)</h3>
                <div class="checklist-item">
                    <input type="checkbox" class="checklist-checkbox">
                    <span class="text-sm">Choose timing (onChange/onBlur/onSubmit)</span>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" class="checklist-checkbox">
                    <span class="text-sm">Create validation functions</span>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" class="checklist-checkbox">
                    <span class="text-sm">Store errors in state</span>
                </div>
            </div>

            <div>
                <h3 class="font-bold text-lg mb-3 text-red-700">Phase 5: Submit (20 min)</h3>
                <div class="checklist-item">
                    <input type="checkbox" class="checklist-checkbox">
                    <span class="text-sm">Validate all fields</span>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" class="checklist-checkbox">
                    <span class="text-sm">Handle loading state</span>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" class="checklist-checkbox">
                    <span class="text-sm">Show success/error feedback</span>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" class="checklist-checkbox">
                    <span class="text-sm">Clear form on success</span>
                </div>
            </div>
        </div>
    </div>

    <div class="max-w-6xl mx-auto space-y-12">

        <!-- PHASE 0: Controlled vs Uncontrolled -->
        <section class="phase-box bg-white rounded-lg p-8">
            <div class="phase-label">PHASE 0: THE FUNDAMENTAL CHOICE</div>
            <h2 class="text-2xl font-bold mb-4 text-gray-900">Controlled vs Uncontrolled Inputs</h2>
            
            <div class="grid md:grid-cols-2 gap-6">
                <div class="controlled-box rounded-lg p-6">
                    <h3 class="font-bold text-xl text-green-900 mb-3">‚úÖ Controlled (Recommended)</h3>
                    <p class="text-sm text-green-800 mb-4">React state controls the input value</p>
                    
                    <pre><code class="language-jsx">function LoginForm() {
  const [email, setEmail] = useState('');
  
  return (
    <input
      type="email"
      value={email}
      onChange={(e) => setEmail(e.target.value)}
    />
  );
}</code></pre>

                    <div class="mt-4 space-y-2 text-sm text-green-900">
                        <p><strong>‚úÖ Pros:</strong></p>
                        <ul class="ml-4 list-disc space-y-1">
                            <li>React is single source of truth</li>
                            <li>Easy to validate on every keystroke</li>
                            <li>Can derive other values</li>
                            <li>Easy to test</li>
                        </ul>
                        <p class="mt-2"><strong>‚ö†Ô∏è Cons:</strong></p>
                        <ul class="ml-4 list-disc space-y-1">
                            <li>More code to write</li>
                            <li>Re-renders on every change</li>
                        </ul>
                    </div>
                </div>

                <div class="uncontrolled-box rounded-lg p-6">
                    <h3 class="font-bold text-xl text-blue-900 mb-3">‚ö° Uncontrolled (Use Sparingly)</h3>
                    <p class="text-sm text-blue-800 mb-4">DOM controls the input value</p>
                    
                    <pre><code class="language-jsx">function LoginForm() {
  const emailRef = useRef();
  
  const handleSubmit = (e) => {
    e.preventDefault();
    console.log(emailRef.current.value);
  };
  
  return (
    <input
      type="email"
      ref={emailRef}
    />
  );
}</code></pre>

                    <div class="mt-4 space-y-2 text-sm text-blue-900">
                        <p><strong>‚úÖ Pros:</strong></p>
                        <ul class="ml-4 list-disc space-y-1">
                            <li>Less code</li>
                            <li>No re-renders on change</li>
                            <li>Good for file inputs</li>
                        </ul>
                        <p class="mt-2"><strong>‚ö†Ô∏è Cons:</strong></p>
                        <ul class="ml-4 list-disc space-y-1">
                            <li>DOM is source of truth (not "React way")</li>
                            <li>Harder to validate instantly</li>
                            <li>Can't easily derive values</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="mt-6 p-4 bg-gray-800 text-white rounded-lg">
                <p class="font-bold mb-2">üéØ Golden Rule:</p>
                <p class="text-sm">Use <strong>controlled</strong> inputs by default. Only use uncontrolled for file uploads or when integrating with non-React code.</p>
            </div>
        </section>

        <!-- PHASE 1: Design -->
        <section class="phase-box bg-white rounded-lg p-8">
            <div class="phase-label">PHASE 1: DESIGN (10 min)</div>
            <h2 class="text-2xl font-bold mb-4 text-gray-900">Plan Before You Code</h2>
            
            <div class="space-y-6">
                <div class="bg-blue-50 p-6 rounded-lg">
                    <h3 class="font-bold text-blue-900 mb-4">üìù Example: User Registration Form</h3>
                    
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <h4 class="font-bold text-sm mb-3 text-blue-800">1. List Fields</h4>
                            <div class="bg-white p-4 rounded border border-blue-300">
                                <ul class="text-sm space-y-2">
                                    <li>‚úì Email (text, required)</li>
                                    <li>‚úì Password (password, required, min 8 chars)</li>
                                    <li>‚úì Confirm Password (password, must match)</li>
                                    <li>‚úì Username (text, required, 3-20 chars)</li>
                                    <li>‚úì Terms Accepted (checkbox, required)</li>
                                </ul>
                            </div>
                        </div>

                        <div>
                            <h4 class="font-bold text-sm mb-3 text-blue-800">2. Define Validation Rules</h4>
                            <div class="bg-white p-4 rounded border border-blue-300">
                                <table class="w-full text-xs">
                                    <thead>
                                        <tr class="border-b border-blue-200">
                                            <th class="text-left py-1">Field</th>
                                            <th class="text-left py-1">Rules</th>
                                        </tr>
                                    </thead>
                                    <tbody class="text-xs">
                                        <tr>
                                            <td class="py-1">Email</td>
                                            <td class="py-1">Valid format</td>
                                        </tr>
                                        <tr>
                                            <td class="py-1">Password</td>
                                            <td class="py-1">‚â•8 chars</td>
                                        </tr>
                                        <tr>
                                            <td class="py-1">Confirm</td>
                                            <td class="py-1">Match password</td>
                                        </tr>
                                        <tr>
                                            <td class="py-1">Username</td>
                                            <td class="py-1">3-20 chars</td>
                                        </tr>
                                        <tr>
                                            <td class="py-1">Terms</td>
                                            <td class="py-1">Must be true</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="grid md:grid-cols-2 gap-6">
                    <div class="bg-green-50 p-4 rounded-lg border-2 border-green-500">
                        <h3 class="font-bold text-green-900 mb-3">‚úÖ Good Design Process</h3>
                        <ul class="text-sm text-green-800 space-y-2 ml-4 list-disc">
                            <li>Write field list on paper first</li>
                            <li>Group related fields together</li>
                            <li>Define clear validation rules</li>
                            <li>Plan error message text</li>
                            <li>Consider UX (autofocus, tab order)</li>
                        </ul>
                    </div>

                    <div class="bg-red-50 p-4 rounded-lg border-2 border-red-500">
                        <h3 class="font-bold text-red-900 mb-3">‚ùå Common Mistakes</h3>
                        <ul class="text-sm text-red-800 space-y-2 ml-4 list-disc">
                            <li>Starting to code without plan</li>
                            <li>Vague validation rules</li>
                            <li>No error message strategy</li>
                            <li>Adding fields mid-development</li>
                            <li>Forgetting edge cases</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="mt-4 p-4 bg-yellow-50 rounded border-l-4 border-yellow-500">
                <p class="font-bold text-yellow-900 mb-2">üí° Pro Tip:</p>
                <p class="text-sm text-yellow-800">Spend 10 minutes planning to save 60 minutes debugging. List every field, validation rule, and error message before writing code.</p>
            </div>
        </section>

        <!-- PHASE 2: State Structure -->
        <section class="phase-box bg-white rounded-lg p-8">
            <div class="phase-label">PHASE 2: STATE (15 min)</div>
            <h2 class="text-2xl font-bold mb-4 text-gray-900">Structure Your Form State</h2>
            
            <div class="space-y-6">
                <div class="grid md:grid-cols-2 gap-6">
                    <div class="bg-red-50 p-4 rounded-lg border-2 border-red-500">
                        <h3 class="font-bold text-red-900 mb-3">‚ùå Bad: Too Many useState Calls</h3>
                        <pre><code class="language-jsx">function RegistrationForm() {
  const [email, setEmail] = useState('');
  const [password, setPassword] = useState('');
  const [confirmPassword, setConfirmPassword] = useState('');
  const [username, setUsername] = useState('');
  const [terms, setTerms] = useState(false);
  const [emailError, setEmailError] = useState('');
  const [passwordError, setPasswordError] = useState('');
  // ... this gets messy fast!
}</code></pre>
                        <p class="text-sm text-red-800 mt-2">10+ useState for a simple form? Unmanageable!</p>
                    </div>

                    <div class="bg-green-50 p-4 rounded-lg border-2 border-green-500">
                        <h3 class="font-bold text-green-900 mb-3">‚úÖ Good: Single State Object</h3>
                        <pre><code class="language-jsx">function RegistrationForm() {
  const [formData, setFormData] = useState({
    email: '',
    password: '',
    confirmPassword: '',
    username: '',
    terms: false
  });
  
  const [errors, setErrors] = useState({});
  const [isSubmitting, setIsSubmitting] = useState(false);
}</code></pre>
                        <p class="text-sm text-green-800 mt-2">Clean, organized, scalable!</p>
                    </div>
                </div>

                <div class="state-shape">
                    <h3 class="font-bold text-purple-900 mb-4">üìê Anatomy of Form State</h3>
                    
                    <div class="grid md:grid-cols-3 gap-4">
                        <div class="bg-white p-4 rounded border-2 border-purple-400">
                            <p class="font-bold text-sm text-purple-900 mb-2">1. Form Data</p>
                            <pre class="text-xs"><code class="language-jsx">const [formData, setFormData] = useState({
  email: '',
  password: '',
  username: ''
});</code></pre>
                            <p class="text-xs text-purple-800 mt-2">Field values</p>
                        </div>

                        <div class="bg-white p-4 rounded border-2 border-purple-400">
                            <p class="font-bold text-sm text-purple-900 mb-2">2. Errors</p>
                            <pre class="text-xs"><code class="language-jsx">const [errors, setErrors] = useState({
  email: '',
  password: '',
  username: ''
});</code></pre>
                            <p class="text-xs text-purple-800 mt-2">Validation messages</p>
                        </div>

                        <div class="bg-white p-4 rounded border-2 border-purple-400">
                            <p class="font-bold text-sm text-purple-900 mb-2">3. UI State</p>
                            <pre class="text-xs"><code class="language-jsx">const [isSubmitting, setIsSubmitting] = 
  useState(false);

const [submitSuccess, setSubmitSuccess] = 
  useState(false);</code></pre>
                            <p class="text-xs text-purple-800 mt-2">Loading/success states</p>
                        </div>
                    </div>
                </div>

                <div class="bg-indigo-50 p-6 rounded-lg">
                    <h3 class="font-bold text-indigo-900 mb-3">üíé Advanced: Touched State</h3>
                    <p class="text-sm text-indigo-800 mb-3">Track which fields user has interacted with to show errors only after they've touched a field:</p>
                    <pre><code class="language-jsx">const [formData, setFormData] = useState({
  email: '',
  password: ''
});

const [errors, setErrors] = useState({});

const [touched, setTouched] = useState({
  email: false,
  password: false
});

// Only show error if field is touched AND has error
const showEmailError = touched.email && errors.email;</code></pre>
                </div>
            </div>

            <div class="mt-4 p-4 bg-blue-50 rounded border-l-4 border-blue-500">
                <p class="font-bold text-blue-900 mb-2">üéØ State Structure Rule:</p>
                <p class="text-sm text-blue-800">Use 1 object for form values, 1 object for errors, separate booleans for UI state. That's it!</p>
            </div>
        </section>

        <!-- PHASE 3: Handlers -->
        <section class="phase-box bg-white rounded-lg p-8">
            <div class="phase-label">PHASE 3: HANDLERS (20 min)</div>
            <h2 class="text-2xl font-bold mb-4 text-gray-900">Wire Up Event Handlers</h2>
            
            <div class="space-y-6">
                <div class="bg-green-50 p-6 rounded-lg border-2 border-green-500">
                    <h3 class="font-bold text-green-900 mb-4">‚úÖ The Standard Pattern</h3>
                    
                    <div class="space-y-4">
                        <div>
                            <p class="font-bold text-sm mb-2">1. Generic onChange Handler</p>
                            <pre><code class="language-jsx">const handleChange = (e) => {
  const { name, value, type, checked } = e.target;
  
  setFormData(prev => ({
    ...prev,
    [name]: type === 'checkbox' ? checked : value
  }));
};</code></pre>
                            <p class="text-xs text-green-800 mt-2">Works for all input types! Use <code>name</code> attribute to identify field.</p>
                        </div>

                        <div>
                            <p class="font-bold text-sm mb-2">2. onSubmit Handler</p>
                            <pre><code class="language-jsx">const handleSubmit = async (e) => {
  e.preventDefault(); // CRITICAL!
  
  // Validate all fields
  const newErrors = validate(formData);
  setErrors(newErrors);
  
  // If no errors, submit
  if (Object.keys(newErrors).length === 0) {
    setIsSubmitting(true);
    
    try {
      await api.register(formData);
      setSubmitSuccess(true);
      // Clear form
      setFormData({ email: '', password: '', username: '' });
    } catch (error) {
      setErrors({ submit: error.message });
    } finally {
      setIsSubmitting(false);
    }
  }
};</code></pre>
                        </div>

                        <div>
                            <p class="font-bold text-sm mb-2">3. Wire to Form & Inputs</p>
                            <pre><code class="language-jsx">return (
  <form onSubmit={handleSubmit}>
    <input
      name="email"
      type="email"
      value={formData.email}
      onChange={handleChange}
    />
    
    <input
      name="password"
      type="password"
      value={formData.password}
      onChange={handleChange}
    />
    
    <button type="submit" disabled={isSubmitting}>
      {isSubmitting ? 'Submitting...' : 'Register'}
    </button>
  </form>
);</code></pre>
                        </div>
                    </div>
                </div>

                <div class="grid md:grid-cols-2 gap-6">
                    <div class="bg-yellow-50 p-4 rounded-lg border-2 border-yellow-500">
                        <h3 class="font-bold text-yellow-900 mb-3">‚ö†Ô∏è Critical: e.preventDefault()</h3>
                        <pre><code class="language-jsx">const handleSubmit = (e) => {
  e.preventDefault(); // ‚¨ÖÔ∏è ALWAYS!
  // Without this, form does full page reload
};</code></pre>
                        <p class="text-sm text-yellow-800 mt-2">Forgetting this is the #1 form bug!</p>
                    </div>

                    <div class="bg-purple-50 p-4 rounded-lg border-2 border-purple-500">
                        <h3 class="font-bold text-purple-900 mb-3">üí° Pro Tip: Name Attribute</h3>
                        <pre><code class="language-jsx">// Make name match state key
<input 
  name="email"  // ‚¨ÖÔ∏è Same as formData.email
  value={formData.email}
  onChange={handleChange}
/></code></pre>
                        <p class="text-sm text-purple-800 mt-2">Enables generic handler!</p>
                    </div>
                </div>
            </div>

            <div class="mt-4 p-4 bg-indigo-50 rounded border-l-4 border-indigo-500">
                <p class="font-bold text-indigo-900 mb-2">üéØ Handler Pattern:</p>
                <p class="text-sm text-indigo-800">One <code>handleChange</code> for all inputs (use name attribute), one <code>handleSubmit</code> for form. That's all you need!</p>
            </div>
        </section>

        <!-- PHASE 4: Validation -->
        <section class="phase-box bg-white rounded-lg p-8">
            <div class="phase-label">PHASE 4: VALIDATION (25 min)</div>
            <h2 class="text-2xl font-bold mb-4 text-gray-900">When & How to Validate</h2>
            
            <div class="space-y-6">
                <div class="bg-gray-100 p-6 rounded-lg">
                    <h3 class="font-bold text-gray-900 mb-4">‚è±Ô∏è Validation Timing Decision</h3>
                    
                    <div class="space-y-3">
                        <div class="validation-onChange">
                            <div class="flex-1">
                                <p class="font-bold text-yellow-900">onChange (Real-time)</p>
                                <p class="text-sm text-yellow-800">Validate on every keystroke</p>
                            </div>
                            <div class="text-xs text-yellow-900">
                                <p><strong>‚úÖ Use for:</strong> Password strength, character count</p>
                                <p><strong>‚ùå Avoid for:</strong> Email (annoying while typing)</p>
                            </div>
                        </div>

                        <div class="validation-onBlur">
                            <div class="flex-1">
                                <p class="font-bold text-blue-900">onBlur (Field exit)</p>
                                <p class="text-sm text-blue-800">Validate when user leaves field</p>
                            </div>
                            <div class="text-xs text-blue-900">
                                <p><strong>‚úÖ Use for:</strong> Email, username (best UX)</p>
                                <p><strong>‚ùå Avoid for:</strong> Complex multi-field validation</p>
                            </div>
                        </div>

                        <div class="validation-onSubmit">
                            <div class="flex-1">
                                <p class="font-bold text-red-900">onSubmit (Form submission)</p>
                                <p class="text-sm text-red-800">Validate everything at once</p>
                            </div>
                            <div class="text-xs text-red-900">
                                <p><strong>‚úÖ Use for:</strong> Final check, cross-field validation</p>
                                <p><strong>‚ùå Avoid for:</strong> Long forms (user gets all errors at end)</p>
                            </div>
                        </div>
                    </div>

                    <div class="mt-4 p-3 bg-white rounded border-2 border-green-500">
                        <p class="text-sm text-green-900"><strong>üéØ Best Practice:</strong> Combine onBlur + onSubmit. Validate individual fields onBlur, do final check onSubmit.</p>
                    </div>
                </div>

                <div class="grid md:grid-cols-2 gap-6">
                    <div class="bg-blue-50 p-4 rounded-lg">
                        <h3 class="font-bold text-blue-900 mb-3">üìù Validation Functions</h3>
                        <pre><code class="language-jsx">const validate = (data) => {
  const errors = {};
  
  // Email validation
  if (!data.email) {
    errors.email = 'Email is required';
  } else if (!/\S+@\S+\.\S+/.test(data.email)) {
    errors.email = 'Email is invalid';
  }
  
  // Password validation
  if (!data.password) {
    errors.password = 'Password is required';
  } else if (data.password.length < 8) {
    errors.password = 'Password must be at least 8 characters';
  }
  
  // Confirm password
  if (data.password !== data.confirmPassword) {
    errors.confirmPassword = 'Passwords do not match';
  }
  
  return errors;
};</code></pre>
                    </div>

                    <div class="bg-purple-50 p-4 rounded-lg">
                        <h3 class="font-bold text-purple-900 mb-3">üé® Display Errors</h3>
                        <pre><code class="language-jsx">// In your component
<div className="form-field">
  <label className="form-label">Email</label>
  
  <input
    className={`form-input ${
      errors.email ? 'form-input-error' : ''
    }`}
    name="email"
    type="email"
    value={formData.email}
    onChange={handleChange}
    onBlur={() => {
      const fieldErrors = validate(formData);
      if (fieldErrors.email) {
        setErrors(prev => ({
          ...prev, 
          email: fieldErrors.email
        }));
      }
    }}
  />
  
  {errors.email && (
    <div className="error-display">
      {errors.email}
    </div>
  )}
</div></code></pre>
                    </div>
                </div>

                <div class="bg-orange-50 p-6 rounded-lg border-2 border-orange-500">
                    <h3 class="font-bold text-orange-900 mb-4">üíé Advanced: Clear Error on Fix</h3>
                    <p class="text-sm text-orange-800 mb-3">Clear error message as soon as user fixes the issue:</p>
                    <pre><code class="language-jsx">const handleChange = (e) => {
  const { name, value } = e.target;
  
  // Update form data
  setFormData(prev => ({ ...prev, [name]: value }));
  
  // Clear error for this field if it was previously invalid
  if (errors[name]) {
    setErrors(prev => {
      const newErrors = { ...prev };
      delete newErrors[name];
      return newErrors;
    });
  }
};</code></pre>
                </div>
            </div>

            <div class="mt-4 p-4 bg-green-50 rounded border-l-4 border-green-500">
                <p class="font-bold text-green-900 mb-2">‚úÖ Validation Best Practices:</p>
                <ul class="text-sm text-green-800 space-y-1 ml-4 list-disc">
                    <li>Validate onBlur for better UX (don't interrupt typing)</li>
                    <li>Always validate onSubmit (final safety check)</li>
                    <li>Clear errors when user starts fixing</li>
                    <li>Use clear, helpful error messages</li>
                    <li>Disable submit button while submitting</li>
                </ul>
            </div>
        </section>

        <!-- PHASE 5: Submit & Feedback -->
        <section class="phase-box bg-white rounded-lg p-8">
            <div class="phase-label">PHASE 5: SUBMIT (20 min)</div>
            <h2 class="text-2xl font-bold mb-4 text-gray-900">Handle Submission & Feedback</h2>
            
            <div class="space-y-6">
                <div class="bg-green-50 p-6 rounded-lg border-2 border-green-500">
                    <h3 class="font-bold text-green-900 mb-4">‚úÖ Complete Submit Flow</h3>
                    
                    <pre><code class="language-jsx">const handleSubmit = async (e) => {
  e.preventDefault();
  
  // 1. Validate all fields
  const newErrors = validate(formData);
  setErrors(newErrors);
  
  // 2. Stop if validation fails
  if (Object.keys(newErrors).length > 0) {
    return; // Don't submit!
  }
  
  // 3. Set loading state
  setIsSubmitting(true);
  setErrors({}); // Clear previous errors
  
  try {
    // 4. Make API call
    const response = await fetch('/api/register', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(formData)
    });
    
    if (!response.ok) {
      throw new Error('Registration failed');
    }
    
    // 5. Handle success
    setSubmitSuccess(true);
    
    // 6. Clear form (optional)
    setFormData({
      email: '',
      password: '',
      confirmPassword: '',
      username: '',
      terms: false
    });
    
    // 7. Show success message for 3 seconds
    setTimeout(() => setSubmitSuccess(false), 3000);
    
  } catch (error) {
    // 8. Handle errors
    setErrors({
      submit: error.message || 'Something went wrong'
    });
  } finally {
    // 9. Always clear loading state
    setIsSubmitting(false);
  }
};</code></pre>
                </div>

                <div class="grid md:grid-cols-3 gap-6">
                    <div class="bg-blue-50 p-4 rounded-lg border-2 border-blue-500">
                        <h3 class="font-bold text-blue-900 mb-3">üîÑ Loading State</h3>
                        <pre><code class="language-jsx"><button 
  type="submit"
  disabled={isSubmitting}
  className={isSubmitting ? 
    'opacity-50 cursor-not-allowed' : ''
  }
>
  {isSubmitting ? (
    <>
      <Spinner />
      Submitting...
    </>
  ) : (
    'Submit'
  )}
</button></code></pre>
                    </div>

                    <div class="bg-green-50 p-4 rounded-lg border-2 border-green-500">
                        <h3 class="font-bold text-green-900 mb-3">‚úÖ Success State</h3>
                        <pre><code class="language-jsx">{submitSuccess && (
  <div className="success-message">
    ‚úÖ Registration successful!
  </div>
)}

// Or redirect
if (submitSuccess) {
  navigate('/dashboard');
}</code></pre>
                    </div>

                    <div class="bg-red-50 p-4 rounded-lg border-2 border-red-500">
                        <h3 class="font-bold text-red-900 mb-3">‚ùå Error State</h3>
                        <pre><code class="language-jsx">{errors.submit && (
  <div className="error-banner">
    ‚ùå {errors.submit}
  </div>
)}

// Field-specific errors
{errors.email && (
  <span className="field-error">
    {errors.email}
  </span>
)}</code></pre>
                    </div>
                </div>

                <div class="bg-purple-50 p-6 rounded-lg">
                    <h3 class="font-bold text-purple-900 mb-4">üíé Advanced: Form Reset</h3>
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <p class="font-bold text-sm mb-2">Option 1: Manual Reset</p>
                            <pre><code class="language-jsx">const resetForm = () => {
  setFormData({
    email: '',
    password: '',
    username: ''
  });
  setErrors({});
  setTouched({});
  setSubmitSuccess(false);
};

<button 
  type="button" 
  onClick={resetForm}
>
  Reset
</button></code></pre>
                        </div>

                        <div>
                            <p class="font-bold text-sm mb-2">Option 2: Native Reset</p>
                            <pre><code class="language-jsx">// Add ref to form
const formRef = useRef();

const handleReset = () => {
  formRef.current.reset();
  setFormData({ /* initial values */ });
  setErrors({});
};

<form ref={formRef} onSubmit={handleSubmit}>
  {/* inputs */}
</form></code></pre>
                        </div>
                    </div>
                </div>
            </div>

            <div class="mt-4 p-4 bg-gray-800 text-white rounded-lg">
                <p class="font-bold mb-2">üéØ Submit Checklist:</p>
                <div class="grid md:grid-cols-2 gap-4 text-sm">
                    <ul class="space-y-1 ml-4 list-disc">
                        <li>Validate before submitting</li>
                        <li>Disable button during submission</li>
                        <li>Show loading indicator</li>
                        <li>Handle success (clear form or redirect)</li>
                    </ul>
                    <ul class="space-y-1 ml-4 list-disc">
                        <li>Handle errors gracefully</li>
                        <li>Always use try/catch/finally</li>
                        <li>Clear loading state in finally</li>
                        <li>Provide clear feedback to user</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Complete Example -->
        <section class="bg-white rounded-lg shadow-lg p-8">
            <h2 class="text-3xl font-bold mb-6 text-gray-900">üì¶ Complete Working Example</h2>
            
            <div class="bg-gray-100 p-6 rounded-lg">
                <p class="text-sm text-gray-700 mb-4 font-bold">Copy this template and adapt to your needs:</p>
                
                <pre><code class="language-jsx">import { useState } from 'react';

function RegistrationForm() {
  // State
  const [formData, setFormData] = useState({
    email: '',
    password: '',
    confirmPassword: '',
    username: '',
    terms: false
  });
  
  const [errors, setErrors] = useState({});
  const [isSubmitting, setIsSubmitting] = useState(false);
  const [submitSuccess, setSubmitSuccess] = useState(false);
  
  // Validation
  const validate = (data) => {
    const errors = {};
    
    if (!data.email) {
      errors.email = 'Email is required';
    } else if (!/\S+@\S+\.\S+/.test(data.email)) {
      errors.email = 'Invalid email format';
    }
    
    if (!data.password) {
      errors.password = 'Password is required';
    } else if (data.password.length < 8) {
      errors.password = 'Password must be at least 8 characters';
    }
    
    if (data.password !== data.confirmPassword) {
      errors.confirmPassword = 'Passwords do not match';
    }
    
    if (!data.username) {
      errors.username = 'Username is required';
    } else if (data.username.length < 3 || data.username.length > 20) {
      errors.username = 'Username must be 3-20 characters';
    }
    
    if (!data.terms) {
      errors.terms = 'You must accept the terms';
    }
    
    return errors;
  };
  
  // Handlers
  const handleChange = (e) => {
    const { name, value, type, checked } = e.target;
    
    setFormData(prev => ({
      ...prev,
      [name]: type === 'checkbox' ? checked : value
    }));
    
    // Clear error when user starts fixing
    if (errors[name]) {
      setErrors(prev => {
        const newErrors = { ...prev };
        delete newErrors[name];
        return newErrors;
      });
    }
  };
  
  const handleBlur = (e) => {
    const { name } = e.target;
    const fieldErrors = validate(formData);
    
    if (fieldErrors[name]) {
      setErrors(prev => ({ ...prev, [name]: fieldErrors[name] }));
    }
  };
  
  const handleSubmit = async (e) => {
    e.preventDefault();
    
    const newErrors = validate(formData);
    setErrors(newErrors);
    
    if (Object.keys(newErrors).length > 0) {
      return;
    }
    
    setIsSubmitting(true);
    
    try {
      const response = await fetch('/api/register', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(formData)
      });
      
      if (!response.ok) throw new Error('Registration failed');
      
      setSubmitSuccess(true);
      setFormData({
        email: '',
        password: '',
        confirmPassword: '',
        username: '',
        terms: false
      });
      
    } catch (error) {
      setErrors({ submit: error.message });
    } finally {
      setIsSubmitting(false);
    }
  };
  
  // Render
  return (
    <form onSubmit={handleSubmit} className="max-w-md mx-auto p-6">
      <h2 className="text-2xl font-bold mb-6">Register</h2>
      
      {/* Email */}
      <div className="mb-4">
        <label className="block font-semibold mb-2">Email</label>
        <input
          type="email"
          name="email"
          value={formData.email}
          onChange={handleChange}
          onBlur={handleBlur}
          className={`w-full px-3 py-2 border rounded ${
            errors.email ? 'border-red-500' : 'border-gray-300'
          }`}
        />
        {errors.email && (
          <p className="text-red-500 text-sm mt-1">{errors.email}</p>
        )}
      </div>
      
      {/* Password */}
      <div className="mb-4">
        <label className="block font-semibold mb-2">Password</label>
        <input
          type="password"
          name="password"
          value={formData.password}
          onChange={handleChange}
          onBlur={handleBlur}
          className={`w-full px-3 py-2 border rounded ${
            errors.password ? 'border-red-500' : 'border-gray-300'
          }`}
        />
        {errors.password && (
          <p className="text-red-500 text-sm mt-1">{errors.password}</p>
        )}
      </div>
      
      {/* Confirm Password */}
      <div className="mb-4">
        <label className="block font-semibold mb-2">Confirm Password</label>
        <input
          type="password"
          name="confirmPassword"
          value={formData.confirmPassword}
          onChange={handleChange}
          onBlur={handleBlur}
          className={`w-full px-3 py-2 border rounded ${
            errors.confirmPassword ? 'border-red-500' : 'border-gray-300'
          }`}
        />
        {errors.confirmPassword && (
          <p className="text-red-500 text-sm mt-1">{errors.confirmPassword}</p>
        )}
      </div>
      
      {/* Username */}
      <div className="mb-4">
        <label className="block font-semibold mb-2">Username</label>
        <input
          type="text"
          name="username"
          value={formData.username}
          onChange={handleChange}
          onBlur={handleBlur}
          className={`w-full px-3 py-2 border rounded ${
            errors.username ? 'border-red-500' : 'border-gray-300'
          }`}
        />
        {errors.username && (
          <p className="text-red-500 text-sm mt-1">{errors.username}</p>
        )}
      </div>
      
      {/* Terms */}
      <div className="mb-6">
        <label className="flex items-center">
          <input
            type="checkbox"
            name="terms"
            checked={formData.terms}
            onChange={handleChange}
            className="mr-2"
          />
          <span>I accept the terms and conditions</span>
        </label>
        {errors.terms && (
          <p className="text-red-500 text-sm mt-1">{errors.terms}</p>
        )}
      </div>
      
      {/* Submit Error */}
      {errors.submit && (
        <div className="mb-4 p-3 bg-red-100 border border-red-400 rounded">
          {errors.submit}
        </div>
      )}
      
      {/* Success Message */}
      {submitSuccess && (
        <div className="mb-4 p-3 bg-green-100 border border-green-400 rounded">
          Registration successful!
        </div>
      )}
      
      {/* Submit Button */}
      <button
        type="submit"
        disabled={isSubmitting}
        className={`w-full py-2 px-4 rounded font-semibold ${
          isSubmitting
            ? 'bg-gray-400 cursor-not-allowed'
            : 'bg-blue-500 hover:bg-blue-600 text-white'
        }`}
      >
        {isSubmitting ? 'Submitting...' : 'Register'}
      </button>
    </form>
  );
}

export default RegistrationForm;</code></pre>
            </div>
        </section>

        <!-- Form Libraries -->
        <section class="bg-gradient-to-br from-purple-600 to-pink-600 text-white rounded-lg p-8">
            <h2 class="text-3xl font-bold mb-6">üìö When to Use Form Libraries</h2>
            
            <div class="grid md:grid-cols-2 gap-6">
                <div class="bg-white/10 rounded-lg p-6 backdrop-blur">
                    <h3 class="font-bold text-xl mb-4">‚úã Stick with Manual (What You Just Learned)</h3>
                    <ul class="text-sm space-y-2 ml-4 list-disc">
                        <li>Simple forms (3-5 fields)</li>
                        <li>Login/registration</li>
                        <li>Contact forms</li>
                        <li>Learning React</li>
                        <li>You understand what's happening</li>
                    </ul>
                    <p class="mt-4 text-sm font-bold">üëç Best for most projects!</p>
                </div>

                <div class="bg-white/10 rounded-lg p-6 backdrop-blur">
                    <h3 class="font-bold text-xl mb-4">üöÄ Consider Libraries (React Hook Form, Formik)</h3>
                    <ul class="text-sm space-y-2 ml-4 list-disc">
                        <li>Complex forms (10+ fields)</li>
                        <li>Multi-step wizards</li>
                        <li>Dynamic field arrays</li>
                        <li>Complex validation schemas</li>
                        <li>Need performance optimization</li>
                    </ul>
                    <p class="mt-4 text-sm font-bold">‚ö†Ô∏è Only after mastering manual forms!</p>
                </div>
            </div>

            <div class="mt-6 bg-white/10 rounded-lg p-6">
                <h3 class="font-bold text-xl mb-4">üìä Quick Library Comparison</h3>
                <table class="w-full text-sm">
                    <thead>
                        <tr class="border-b border-white/30">
                            <th class="text-left py-2">Library</th>
                            <th class="text-left py-2">Bundle Size</th>
                            <th class="text-left py-2">Best For</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="border-b border-white/20">
                            <td class="py-2"><strong>Manual</strong></td>
                            <td class="py-2">0 KB</td>
                            <td class="py-2">Simple forms, learning</td>
                        </tr>
                        <tr class="border-b border-white/20">
                            <td class="py-2"><strong>React Hook Form</strong></td>
                            <td class="py-2">~9 KB</td>
                            <td class="py-2">Complex forms, best performance</td>
                        </tr>
                        <tr class="border-b border-white/20">
                            <td class="py-2"><strong>Formik</strong></td>
                            <td class="py-2">~13 KB</td>
                            <td class="py-2">Complex forms, more features</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="mt-6 p-4 bg-white/10 rounded-lg">
                <p class="font-bold text-lg">üéØ Our Recommendation:</p>
                <p class="text-sm mt-2">Build 5-10 forms manually first. Only reach for libraries when you truly need them. Most projects don't!</p>
            </div>
        </section>

        <!-- Practice Projects -->
        <section class="bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg p-8">
            <h2 class="text-3xl font-bold mb-4">üéì Master Through Practice</h2>
            <p class="text-lg mb-6">Build these 10 forms following the 5-phase workflow:</p>
            
            <div class="grid md:grid-cols-2 gap-4 text-sm">
                <div class="space-y-3">
                    <div class="bg-white/10 p-4 rounded-lg">
                        <p class="font-bold text-lg mb-1">1. Login Form</p>
                        <p class="text-xs opacity-90">Email + password, simple validation</p>
                        <p class="text-xs mt-1">‚è±Ô∏è Time: 45 minutes</p>
                    </div>

                    <div class="bg-white/10 p-4 rounded-lg">
                        <p class="font-bold text-lg mb-1">2. Registration Form</p>
                        <p class="text-xs opacity-90">5+ fields, password confirmation, checkbox</p>
                        <p class="text-xs mt-1">‚è±Ô∏è Time: 90 minutes</p>
                    </div>

                    <div class="bg-white/10 p-4 rounded-lg">
                        <p class="font-bold text-lg mb-1">3. Contact Form</p>
                        <p class="text-xs opacity-90">Name, email, subject, message (textarea)</p>
                        <p class="text-xs mt-1">‚è±Ô∏è Time: 60 minutes</p>
                    </div>

                    <div class="bg-white/10 p-4 rounded-lg">
                        <p class="font-bold text-lg mb-1">4. Profile Update Form</p>
                        <p class="text-xs opacity-90">Pre-filled values, avatar upload, bio</p>
                        <p class="text-xs mt-1">‚è±Ô∏è Time: 90 minutes</p>
                    </div>

                    <div class="bg-white/10 p-4 rounded-lg">
                        <p class="font-bold text-lg mb-1">5. Search Filter Form</p>
                        <p class="text-xs opacity-90">Dropdowns, checkboxes, range slider</p>
                        <p class="text-xs mt-1">‚è±Ô∏è Time: 120 minutes</p>
                    </div>
                </div>

                <div class="space-y-3">
                    <div class="bg-white/10 p-4 rounded-lg">
                        <p class="font-bold text-lg mb-1">6. Multi-step Wizard</p>
                        <p class="text-xs opacity-90">3 steps, progress indicator, back/next</p>
                        <p class="text-xs mt-1">‚è±Ô∏è Time: 150 minutes</p>
                    </div>

                    <div class="bg-white/10 p-4 rounded-lg">
                        <p class="font-bold text-lg mb-1">7. Dynamic Form (Add/Remove)</p>
                        <p class="text-xs opacity-90">Add multiple addresses, remove fields</p>
                        <p class="text-xs mt-1">‚è±Ô∏è Time: 120 minutes</p>
                    </div>

                    <div class="bg-white/10 p-4 rounded-lg">
                        <p class="font-bold text-lg mb-1">8. Survey Form</p>
                        <p class="text-xs opacity-90">Radio buttons, rating scales, conditional fields</p>
                        <p class="text-xs mt-1">‚è±Ô∏è Time: 120 minutes</p>
                    </div>

                    <div class="bg-white/10 p-4 rounded-lg">
                        <p class="font-bold text-lg mb-1">9. Checkout Form</p>
                        <p class="text-xs opacity-90">Address, payment method, order summary</p>
                        <p class="text-xs mt-1">‚è±Ô∏è Time: 180 minutes</p>
                    </div>

                    <div class="bg-white/10 p-4 rounded-lg">
                        <p class="font-bold text-lg mb-1">10. Admin Settings Form</p>
                        <p class="text-xs opacity-90">Tabs, nested fields, permissions checkboxes</p>
                        <p class="text-xs mt-1">‚è±Ô∏è Time: 180 minutes</p>
                    </div>
                </div>
            </div>

            <div class="mt-6 p-4 bg-white/10 rounded-lg">
                <p class="font-bold text-lg mb-2">Time Investment</p>
                <p class="text-sm">Total: ~20 hours across all 10 projects</p>
                <p class="text-sm mt-2">After building 5-6 forms, the pattern becomes muscle memory.</p>
                <p class="text-sm font-bold mt-3">üéØ Goal: Handle any form requirement without looking at docs!</p>
            </div>
        </section>

        <!-- Common Patterns Cheat Sheet -->
        <section class="bg-white rounded-lg shadow-lg p-8">
            <h2 class="text-3xl font-bold mb-6 text-gray-900">üéØ Common Patterns Cheat Sheet</h2>
            
            <div class="grid md:grid-cols-2 gap-6">
                <div class="bg-blue-50 p-4 rounded-lg">
                    <h3 class="font-bold text-blue-900 mb-3">Generic Change Handler</h3>
                    <pre><code class="language-jsx">const handleChange = (e) => {
  const { name, value, type, checked } = e.target;
  setFormData(prev => ({
    ...prev,
    [name]: type === 'checkbox' ? checked : value
  }));
};</code></pre>
                </div>

                <div class="bg-green-50 p-4 rounded-lg">
                    <h3 class="font-bold text-green-900 mb-3">Email Validation</h3>
                    <pre><code class="language-jsx">const isValidEmail = (email) => {
  return /\S+@\S+\.\S+/.test(email);
};

if (!isValidEmail(formData.email)) {
  errors.email = 'Invalid email format';
}</code></pre>
                </div>

                <div class="bg-purple-50 p-4 rounded-lg">
                    <h3 class="font-bold text-purple-900 mb-3">Clear Error on Fix</h3>
                    <pre><code class="language-jsx">if (errors[name]) {
  setErrors(prev => {
    const newErrors = { ...prev };
    delete newErrors[name];
    return newErrors;
  });
}</code></pre>
                </div>

                <div class="bg-orange-50 p-4 rounded-lg">
                    <h3 class="font-bold text-orange-900 mb-3">Disable During Submit</h3>
                    <pre><code class="language-jsx"><button
  type="submit"
  disabled={isSubmitting || Object.keys(errors).length > 0}
>
  {isSubmitting ? 'Submitting...' : 'Submit'}
</button></code></pre>
                </div>
            </div>
        </section>

    </div>

    <!-- Footer -->
    <div class="max-w-6xl mx-auto mt-12 text-center text-gray-600 text-sm">
        <p class="font-bold mb-2">Print this guide. Follow the 5 phases. Build 10 forms.</p>
        <p>Transform from confused about forms ‚Üí confident handling any form requirement.</p>
        <p class="mt-4 text-xs">Master forms manually before reaching for libraries!</p>
    </div>

    <script>
        // Initialize Highlight.js
        hljs.highlightAll();
    </script>

</body>
</html>