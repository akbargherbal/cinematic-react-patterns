<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>React Custom Hooks - Visual Workflow Guide</title>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Highlight.js for syntax highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/jsx.min.js"></script>
    
    <style>
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        }
        
        .phase-box {
            border: 3px dashed #cbd5e1;
            position: relative;
        }
        
        .phase-label {
            position: absolute;
            top: -12px;
            left: 16px;
            background: white;
            padding: 0 8px;
            font-weight: 700;
            font-size: 14px;
            color: #475569;
        }
        
        .duplicate-highlight {
            background: linear-gradient(to right, #fef3c7, #fde68a);
            border-left: 4px solid #f59e0b;
            position: relative;
        }
        
        .duplicate-badge {
            position: absolute;
            top: 8px;
            right: 8px;
            background: #f59e0b;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 10px;
            font-weight: 700;
        }
        
        .clean-code {
            background: linear-gradient(to right, #d1fae5, #a7f3d0);
            border-left: 4px solid #10b981;
        }
        
        .hook-anatomy {
            border: 2px solid #3b82f6;
            background: rgba(59, 130, 246, 0.05);
        }
        
        .hook-part {
            border: 1px dashed #3b82f6;
            background: white;
        }
        
        .checklist-item {
            display: flex;
            align-items: start;
            gap: 8px;
            margin: 8px 0;
        }
        
        .checklist-checkbox {
            width: 20px;
            height: 20px;
            margin-top: 2px;
            flex-shrink: 0;
        }
        
        .arrow-down {
            width: 0;
            height: 0;
            border-left: 12px solid transparent;
            border-right: 12px solid transparent;
            border-top: 20px solid #6366f1;
            margin: 0 auto;
        }
        
        /* Highlight.js customizations */
        pre code.hljs {
            border-radius: 0.5rem;
            padding: 1rem;
            font-size: 0.875rem;
            line-height: 1.5;
        }
        
        /* Inline code styling */
        code:not(.hljs) {
            background: #f3f4f6;
            padding: 0.125rem 0.375rem;
            border-radius: 0.25rem;
            font-size: 0.875em;
            color: #1f2937;
            font-family: 'Courier New', monospace;
        }
    </style>
</head>
<body class="bg-gray-50 p-8">
    
    <!-- Header -->
    <div class="max-w-6xl mx-auto mb-12">
        <h1 class="text-4xl font-bold text-gray-900 mb-2">React Custom Hooks</h1>
        <p class="text-xl text-gray-600">From Copy-Paste Logic ‚Üí Reusable Hooks</p>
        <p class="text-sm text-gray-500 mt-2">Total time: ~70 minutes | Skill level: Intermediate React</p>
    </div>

    <!-- Quick Checklist -->
    <div class="max-w-6xl mx-auto mb-8 bg-white rounded-lg shadow-md p-6">
        <h2 class="text-2xl font-bold mb-4 text-gray-900">üìã The Workflow Checklist</h2>
        
        <div class="grid md:grid-cols-3 gap-6">
            <div>
                <h3 class="font-bold text-lg mb-3 text-yellow-700">Phase 1: Spot (10 min)</h3>
                <div class="checklist-item">
                    <input type="checkbox" class="checklist-checkbox">
                    <span class="text-sm">Find useState + useEffect together</span>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" class="checklist-checkbox">
                    <span class="text-sm">Same pattern in 2+ components?</span>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" class="checklist-checkbox">
                    <span class="text-sm">Highlight duplicated logic</span>
                </div>

                <h3 class="font-bold text-lg mb-3 mt-6 text-blue-700">Phase 2: Extract (20 min)</h3>
                <div class="checklist-item">
                    <input type="checkbox" class="checklist-checkbox">
                    <span class="text-sm">Create function starting with "use"</span>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" class="checklist-checkbox">
                    <span class="text-sm">Copy useState/useEffect inside</span>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" class="checklist-checkbox">
                    <span class="text-sm">Move to separate file (optional)</span>
                </div>
            </div>

            <div>
                <h3 class="font-bold text-lg mb-3 text-green-700">Phase 3: Parameterize (15 min)</h3>
                <div class="checklist-item">
                    <input type="checkbox" class="checklist-checkbox">
                    <span class="text-sm">What differs between uses?</span>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" class="checklist-checkbox">
                    <span class="text-sm">Add function parameters</span>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" class="checklist-checkbox">
                    <span class="text-sm">Replace hardcoded values</span>
                </div>

                <h3 class="font-bold text-lg mb-3 mt-6 text-purple-700">Phase 4: Return (10 min)</h3>
                <div class="checklist-item">
                    <input type="checkbox" class="checklist-checkbox">
                    <span class="text-sm">What does component need back?</span>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" class="checklist-checkbox">
                    <span class="text-sm">Return value/array/object</span>
                </div>
            </div>

            <div>
                <h3 class="font-bold text-lg mb-3 text-red-700">Phase 5: Test (15 min)</h3>
                <div class="checklist-item">
                    <input type="checkbox" class="checklist-checkbox">
                    <span class="text-sm">Use in original component</span>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" class="checklist-checkbox">
                    <span class="text-sm">Use in 2nd component</span>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" class="checklist-checkbox">
                    <span class="text-sm">Works with different inputs?</span>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" class="checklist-checkbox">
                    <span class="text-sm">No duplicated code left?</span>
                </div>
            </div>
        </div>
    </div>

    <div class="max-w-6xl mx-auto space-y-12">

        <!-- PHASE 0: Starting Point -->
        <section class="phase-box bg-white rounded-lg p-8">
            <div class="phase-label">PHASE 0: YOUR STARTING POINT</div>
            <h2 class="text-2xl font-bold mb-4 text-gray-900">Duplicated Logic Across Components</h2>
            
            <p class="text-gray-700 mb-6">You notice the same useState + useEffect pattern appearing in multiple components. Time to extract it!</p>
            
            <div class="grid md:grid-cols-2 gap-4">
                <div class="duplicate-highlight rounded-lg p-4">
                    <div class="duplicate-badge">DUPLICATE #1</div>
                    <h3 class="font-bold text-sm mb-2">UserProfile.jsx</h3>
                    <pre><code class="language-jsx">function UserProfile() {
  const [data, setData] = useState(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);

  useEffect(() => {
    fetch('/api/user')
      .then(res => res.json())
      .then(setData)
      .catch(setError)
      .finally(() => setLoading(false));
  }, []);

  if (loading) return <div>Loading...</div>;
  if (error) return <div>Error!</div>;
  return <div>{data.name}</div>;
}</code></pre>
                </div>

                <div class="duplicate-highlight rounded-lg p-4">
                    <div class="duplicate-badge">DUPLICATE #2</div>
                    <h3 class="font-bold text-sm mb-2">ProductList.jsx</h3>
                    <pre><code class="language-jsx">function ProductList() {
  const [data, setData] = useState(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);

  useEffect(() => {
    fetch('/api/products')
      .then(res => res.json())
      .then(setData)
      .catch(setError)
      .finally(() => setLoading(false));
  }, []);

  if (loading) return <div>Loading...</div>;
  if (error) return <div>Error!</div>;
  return <div>{data.length} products</div>;
}</code></pre>
                </div>
            </div>

            <div class="mt-4 p-4 bg-yellow-50 rounded border-l-4 border-yellow-500">
                <p class="font-bold text-yellow-900">üö® Code Smell Detected:</p>
                <p class="text-sm text-yellow-800">Same pattern (fetch on mount with loading/error states) copied twice. If you need to fix a bug, you'd have to fix it in both places!</p>
            </div>
        </section>

        <!-- PHASE 1: Spot the Pattern -->
        <section class="phase-box bg-white rounded-lg p-8">
            <div class="phase-label">PHASE 1: SPOT (10 min)</div>
            <h2 class="text-2xl font-bold mb-4 text-gray-900">Identify Extraction Candidates</h2>
            
            <div class="space-y-6">
                <div>
                    <h3 class="font-bold text-lg mb-3 text-gray-900">‚úÖ Good Candidates for Custom Hooks</h3>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div class="bg-green-50 p-4 rounded-lg border-2 border-green-500">
                            <p class="font-bold text-green-900 mb-2">useState + useEffect Together</p>
                            <p class="text-sm text-green-800">Fetching data, syncing with localStorage, managing timers</p>
                        </div>
                        <div class="bg-green-50 p-4 rounded-lg border-2 border-green-500">
                            <p class="font-bold text-green-900 mb-2">Event Listeners</p>
                            <p class="text-sm text-green-800">Window resize, scroll position, keyboard shortcuts</p>
                        </div>
                        <div class="bg-green-50 p-4 rounded-lg border-2 border-green-500">
                            <p class="font-bold text-green-900 mb-2">Form Logic</p>
                            <p class="text-sm text-green-800">Input handling, validation, submission states</p>
                        </div>
                        <div class="bg-green-50 p-4 rounded-lg border-2 border-green-500">
                            <p class="font-bold text-green-900 mb-2">Subscriptions</p>
                            <p class="text-sm text-green-800">WebSockets, real-time data, external stores</p>
                        </div>
                    </div>
                </div>

                <div>
                    <h3 class="font-bold text-lg mb-3 text-gray-900">‚ùå Not Good Candidates</h3>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div class="bg-red-50 p-4 rounded-lg border-2 border-red-500">
                            <p class="font-bold text-red-900 mb-2">One-Time Logic</p>
                            <p class="text-sm text-red-800">Only used in one component, no repetition</p>
                        </div>
                        <div class="bg-red-50 p-4 rounded-lg border-2 border-red-500">
                            <p class="font-bold text-red-900 mb-2">Pure Calculations</p>
                            <p class="text-sm text-red-800">No state, just math ‚Üí use regular function</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="mt-6 p-4 bg-blue-50 rounded border-l-4 border-blue-500">
                <p class="font-bold text-blue-900 mb-2">üéØ The Recognition Pattern:</p>
                <ol class="text-sm text-blue-800 space-y-1 ml-4 list-decimal">
                    <li>See <code>useState</code> + <code>useEffect</code> in Component A</li>
                    <li>Notice same pattern in Component B (just different URL/key/etc.)</li>
                    <li>Ask: "What's the same? What's different?"</li>
                    <li><strong>Same</strong> = extract as hook logic</li>
                    <li><strong>Different</strong> = pass as parameters</li>
                </ol>
            </div>
        </section>

        <!-- PHASE 2: Extract to Function -->
        <section class="phase-box bg-white rounded-lg p-8">
            <div class="phase-label">PHASE 2: EXTRACT (20 min)</div>
            <h2 class="text-2xl font-bold mb-4 text-gray-900">Create the Custom Hook Function</h2>
            
            <div class="space-y-6">
                <div class="hook-anatomy rounded-lg p-6">
                    <h3 class="font-bold text-blue-900 mb-4">üìê Anatomy of a Custom Hook</h3>
                    
                    <div class="space-y-3">
                        <div class="hook-part rounded p-3">
                            <p class="text-xs font-bold text-blue-700 mb-1">1. NAMING RULE (Required)</p>
                            <code class="text-sm">function <span class="text-blue-600">use</span>Fetch() { }</code>
                            <p class="text-xs text-gray-600 mt-1">Must start with "use" so React knows it's a hook</p>
                        </div>

                        <div class="hook-part rounded p-3">
                            <p class="text-xs font-bold text-blue-700 mb-1">2. INTERNAL STATE</p>
                            <code class="text-sm">const [data, setData] = useState(null);</code>
                            <p class="text-xs text-gray-600 mt-1">Hooks can call other hooks (useState, useEffect, etc.)</p>
                        </div>

                        <div class="hook-part rounded p-3">
                            <p class="text-xs font-bold text-blue-700 mb-1">3. SIDE EFFECTS</p>
                            <code class="text-sm">useEffect(() => { /* fetch data */ }, []);</code>
                            <p class="text-xs text-gray-600 mt-1">Logic that was duplicated across components</p>
                        </div>

                        <div class="hook-part rounded p-3">
                            <p class="text-xs font-bold text-blue-700 mb-1">4. RETURN VALUE</p>
                            <code class="text-sm">return { data, loading, error };</code>
                            <p class="text-xs text-gray-600 mt-1">What the component needs to use</p>
                        </div>
                    </div>
                </div>

                <div class="clean-code rounded-lg p-6">
                    <h3 class="font-bold text-green-900 mb-3">‚úÖ Step-by-Step Extraction</h3>
                    
                    <div class="space-y-4">
                        <div>
                            <p class="text-sm font-bold text-green-800 mb-2">Step 1: Create function with "use" prefix</p>
                            <pre><code class="language-jsx">function useFetch() {
  // Empty for now
}</code></pre>
                        </div>

                        <div>
                            <p class="text-sm font-bold text-green-800 mb-2">Step 2: Copy the duplicated useState calls</p>
                            <pre><code class="language-jsx">function useFetch() {
  const [data, setData] = useState(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);
}</code></pre>
                        </div>

                        <div>
                            <p class="text-sm font-bold text-green-800 mb-2">Step 3: Copy the useEffect logic</p>
                            <pre><code class="language-jsx">function useFetch() {
  const [data, setData] = useState(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);

  useEffect(() => {
    fetch('/api/user')  // Still hardcoded!
      .then(res => res.json())
      .then(setData)
      .catch(setError)
      .finally(() => setLoading(false));
  }, []);
}</code></pre>
                        </div>

                        <div>
                            <p class="text-sm font-bold text-green-800 mb-2">Step 4: Return what components need</p>
                            <pre><code class="language-jsx">function useFetch() {
  const [data, setData] = useState(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);

  useEffect(() => {
    fetch('/api/user')
      .then(res => res.json())
      .then(setData)
      .catch(setError)
      .finally(() => setLoading(false));
  }, []);

  return { data, loading, error };
}</code></pre>
                        </div>
                    </div>
                </div>
            </div>

            <div class="mt-4 p-4 bg-purple-50 rounded border-l-4 border-purple-500">
                <p class="font-bold text-purple-900 mb-2">üí° Key Insight:</p>
                <p class="text-sm text-purple-800">Custom hooks are just regular JavaScript functions that happen to call other React hooks. That's it!</p>
            </div>
        </section>

        <!-- PHASE 3: Add Parameters -->
        <section class="phase-box bg-white rounded-lg p-8">
            <div class="phase-label">PHASE 3: PARAMETERIZE (15 min)</div>
            <h2 class="text-2xl font-bold mb-4 text-gray-900">Make It Reusable With Parameters</h2>
            
            <div class="space-y-6">
                <div class="grid md:grid-cols-2 gap-6">
                    <div class="bg-red-50 p-4 rounded-lg border-2 border-red-500">
                        <h3 class="font-bold text-red-900 mb-3">‚ùå Before: Hardcoded</h3>
                        <pre><code class="language-jsx">function useFetch() {
  // ...
  useEffect(() => {
    fetch('/api/user')  // Hardcoded!
      .then(res => res.json())
      // ...
  }, []);
}</code></pre>
                        <p class="text-sm text-red-800 mt-2">Can only fetch from one URL. Not reusable!</p>
                    </div>

                    <div class="bg-green-50 p-4 rounded-lg border-2 border-green-500">
                        <h3 class="font-bold text-green-900 mb-3">‚úÖ After: Parameterized</h3>
                        <pre><code class="language-jsx">function useFetch(url) {
  // ...
  useEffect(() => {
    fetch(url)  // Use parameter!
      .then(res => res.json())
      // ...
  }, [url]);  // Add to dependencies
}</code></pre>
                        <p class="text-sm text-green-800 mt-2">Works with any URL. Fully reusable!</p>
                    </div>
                </div>

                <div>
                    <h3 class="font-bold text-lg mb-3 text-gray-900">üéØ Finding What to Parameterize</h3>
                    <div class="bg-gray-100 p-4 rounded-lg">
                        <table class="w-full text-sm">
                            <thead>
                                <tr class="border-b-2 border-gray-300">
                                    <th class="text-left py-2 px-3">Question</th>
                                    <th class="text-left py-2 px-3">Answer</th>
                                    <th class="text-left py-2 px-3">Parameter</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-gray-300">
                                <tr>
                                    <td class="py-2 px-3">What changes between uses?</td>
                                    <td class="py-2 px-3">The URL being fetched</td>
                                    <td class="py-2 px-3 font-mono"><code>url</code></td>
                                </tr>
                                <tr>
                                    <td class="py-2 px-3">What's configurable?</td>
                                    <td class="py-2 px-3">Initial value, options</td>
                                    <td class="py-2 px-3 font-mono"><code>initialValue</code></td>
                                </tr>
                                <tr>
                                    <td class="py-2 px-3">What's optional?</td>
                                    <td class="py-2 px-3">Fetch options, headers</td>
                                    <td class="py-2 px-3 font-mono"><code>options = {}</code></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="clean-code rounded-lg p-6">
                    <h3 class="font-bold text-green-900 mb-3">Complete Example with Parameters</h3>
                    <pre><code class="language-jsx">function useFetch(url, options = {}) {
  const [data, setData] = useState(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);

  useEffect(() => {
    let cancelled = false;

    setLoading(true);
    fetch(url, options)
      .then(res => res.json())
      .then(data => {
        if (!cancelled) {
          setData(data);
        }
      })
      .catch(err => {
        if (!cancelled) {
          setError(err);
        }
      })
      .finally(() => {
        if (!cancelled) {
          setLoading(false);
        }
      });

    return () => {
      cancelled = true;  // Cleanup!
    };
  }, [url, options]);

  return { data, loading, error };
}</code></pre>
                </div>
            </div>

            <div class="mt-4 p-4 bg-yellow-50 rounded border-l-4 border-yellow-500">
                <p class="font-bold text-yellow-900 mb-2">‚ö†Ô∏è Common Mistake:</p>
                <p class="text-sm text-yellow-800">Forgetting to add parameters to the useEffect dependency array! This causes stale closures.</p>
            </div>
        </section>

        <!-- PHASE 4: Return Values -->
        <section class="phase-box bg-white rounded-lg p-8">
            <div class="phase-label">PHASE 4: RETURN (10 min)</div>
            <h2 class="text-2xl font-bold mb-4 text-gray-900">Design the Return Value</h2>
            
            <div class="space-y-6">
                <div>
                    <h3 class="font-bold text-lg mb-3 text-gray-900">Three Return Patterns</h3>
                    <div class="grid md:grid-cols-3 gap-4">
                        <div class="bg-blue-50 p-4 rounded-lg border-2 border-blue-500">
                            <p class="font-bold text-blue-900 mb-2">1. Single Value</p>
                            <pre><code class="language-jsx">function useCounter() {
  const [count, setCount] = useState(0);
  return count;
}

// Usage
const count = useCounter();</code></pre>
                            <p class="text-xs text-blue-800 mt-2">Simple, but limited - can't update value</p>
                        </div>

                        <div class="bg-green-50 p-4 rounded-lg border-2 border-green-500">
                            <p class="font-bold text-green-900 mb-2">2. Array (useState-style)</p>
                            <pre><code class="language-jsx">function useCounter() {
  const [count, setCount] = useState(0);
  return [count, setCount];
}

// Usage
const [count, setCount] = useCounter();</code></pre>
                            <p class="text-xs text-green-800 mt-2">Good for 2-3 related values, custom naming</p>
                        </div>

                        <div class="bg-purple-50 p-4 rounded-lg border-2 border-purple-500">
                            <p class="font-bold text-purple-900 mb-2">3. Object (Recommended)</p>
                            <pre><code class="language-jsx">function useFetch(url) {
  // ...
  return { data, loading, error };
}

// Usage
const { data, loading } = useFetch('/api');</code></pre>
                            <p class="text-xs text-purple-800 mt-2">Best for 3+ values, self-documenting, can ignore some</p>
                        </div>
                    </div>
                </div>

                <div class="bg-indigo-50 p-6 rounded-lg border-2 border-indigo-500">
                    <h3 class="font-bold text-indigo-900 mb-3">üíé Advanced: Return Functions Too!</h3>
                    <pre><code class="language-jsx">function useCounter(initialValue = 0) {
  const [count, setCount] = useState(initialValue);

  const increment = () => setCount(c => c + 1);
  const decrement = () => setCount(c => c - 1);
  const reset = () => setCount(initialValue);

  return {
    count,
    increment,
    decrement,
    reset
  };
}

// Usage
const { count, increment, reset } = useCounter(10);
<button onClick={increment}>+</button>
<button onClick={reset}>Reset</button></code></pre>
                    <p class="text-sm text-indigo-800 mt-2">Components get <strong>actions</strong> not just state. Clean API!</p>
                </div>
            </div>

            <div class="mt-4 p-4 bg-purple-50 rounded border-l-4 border-purple-500">
                <p class="font-bold text-purple-900 mb-2">üéØ Decision Guide:</p>
                <ul class="text-sm text-purple-800 space-y-1 ml-4 list-disc">
                    <li>1-2 values ‚Üí Array <code>[value, setter]</code></li>
                    <li>3+ values ‚Üí Object <code>{`{ data, loading, error }`}</code></li>
                    <li>Need custom names ‚Üí Array</li>
                    <li>Self-documenting ‚Üí Object</li>
                </ul>
            </div>
        </section>

        <!-- PHASE 5: Test & Verify -->
        <section class="phase-box bg-white rounded-lg p-8">
            <div class="phase-label">PHASE 5: TEST (15 min)</div>
            <h2 class="text-2xl font-bold mb-4 text-gray-900">Verify Reusability</h2>
            
            <div class="space-y-6">
                <div class="arrow-down"></div>

                <div class="grid md:grid-cols-2 gap-6">
                    <div class="clean-code rounded-lg p-6">
                        <h3 class="font-bold text-green-900 mb-3">‚úÖ Before: 40 lines duplicated</h3>
                        <pre><code class="language-jsx">function UserProfile() {
  const [data, setData] = useState(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);

  useEffect(() => {
    fetch('/api/user')
      .then(res => res.json())
      .then(setData)
      .catch(setError)
      .finally(() => setLoading(false));
  }, []);

  if (loading) return <Spinner />;
  if (error) return <Error />;
  return <div>{data.name}</div>;
}

function ProductList() {
  const [data, setData] = useState(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);

  useEffect(() => {
    fetch('/api/products')
      .then(res => res.json())
      .then(setData)
      .catch(setError)
      .finally(() => setLoading(false));
  }, []);

  if (loading) return <Spinner />;
  if (error) return <Error />;
  return <div>{data.length} products</div>;
}</code></pre>
                    </div>

                    <div class="clean-code rounded-lg p-6">
                        <h3 class="font-bold text-green-900 mb-3">‚úÖ After: 1 hook, 2 lines each!</h3>
                        <pre><code class="language-jsx">// hooks/useFetch.js
function useFetch(url) {
  const [data, setData] = useState(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);

  useEffect(() => {
    fetch(url)
      .then(res => res.json())
      .then(setData)
      .catch(setError)
      .finally(() => setLoading(false));
  }, [url]);

  return { data, loading, error };
}

// Components now super clean!
function UserProfile() {
  const { data, loading, error } = useFetch('/api/user');
  
  if (loading) return <Spinner />;
  if (error) return <Error />;
  return <div>{data.name}</div>;
}

function ProductList() {
  const { data, loading, error } = useFetch('/api/products');
  
  if (loading) return <Spinner />;
  if (error) return <Error />;
  return <div>{data.length} products</div>;
}</code></pre>
                    </div>
                </div>

                <div class="bg-gray-800 text-white rounded-lg p-6">
                    <h3 class="font-bold text-2xl mb-4">‚úÖ Verification Checklist</h3>
                    <div class="grid md:grid-cols-2 gap-4 text-sm">
                        <div>
                            <p class="font-bold mb-2 text-green-400">Hook Quality:</p>
                            <ul class="space-y-1 ml-4 list-disc">
                                <li>Starts with "use" prefix?</li>
                                <li>Works in 2+ components?</li>
                                <li>No hardcoded values left?</li>
                                <li>Parameters make sense?</li>
                                <li>Return value is useful?</li>
                            </ul>
                        </div>
                        <div>
                            <p class="font-bold mb-2 text-blue-400">Code Quality:</p>
                            <ul class="space-y-1 ml-4 list-disc">
                                <li>Components are shorter now?</li>
                                <li>Logic centralized in one place?</li>
                                <li>Easy to test the hook?</li>
                                <li>Would you use this in other projects?</li>
                                <li>Documentation/types added?</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div class="mt-4 p-4 bg-green-50 rounded border-l-4 border-green-500">
                <p class="font-bold text-green-900 mb-2">üéâ Success Indicator:</p>
                <p class="text-sm text-green-800">If you can use your custom hook in a 3rd component without any modifications, you've extracted it correctly!</p>
            </div>
        </section>

        <!-- Common Patterns Library -->
        <section class="bg-gradient-to-br from-indigo-600 to-purple-600 text-white rounded-lg p-8">
            <h2 class="text-3xl font-bold mb-6">üìö Custom Hook Pattern Library</h2>
            <p class="text-lg mb-6">Copy these patterns and adapt them to your needs</p>
            
            <div class="grid md:grid-cols-2 gap-6">
                <div class="bg-white/10 rounded-lg p-4">
                    <h3 class="font-bold text-xl mb-2">useLocalStorage</h3>
                    <p class="text-sm mb-3">Sync state with localStorage</p>
                    <pre class="text-xs"><code class="language-jsx">function useLocalStorage(key, initialValue) {
  const [value, setValue] = useState(() => {
    const item = localStorage.getItem(key);
    return item ? JSON.parse(item) : initialValue;
  });

  useEffect(() => {
    localStorage.setItem(key, JSON.stringify(value));
  }, [key, value]);

  return [value, setValue];
}</code></pre>
                </div>

                <div class="bg-white/10 rounded-lg p-4">
                    <h3 class="font-bold text-xl mb-2">useDebounce</h3>
                    <p class="text-sm mb-3">Delay value updates</p>
                    <pre class="text-xs"><code class="language-jsx">function useDebounce(value, delay) {
  const [debouncedValue, setDebouncedValue] = 
    useState(value);

  useEffect(() => {
    const timer = setTimeout(() => {
      setDebouncedValue(value);
    }, delay);

    return () => clearTimeout(timer);
  }, [value, delay]);

  return debouncedValue;
}</code></pre>
                </div>

                <div class="bg-white/10 rounded-lg p-4">
                    <h3 class="font-bold text-xl mb-2">useToggle</h3>
                    <p class="text-sm mb-3">Boolean state with toggle</p>
                    <pre class="text-xs"><code class="language-jsx">function useToggle(initialValue = false) {
  const [value, setValue] = useState(initialValue);

  const toggle = () => setValue(v => !v);
  const setTrue = () => setValue(true);
  const setFalse = () => setValue(false);

  return { value, toggle, setTrue, setFalse };
}</code></pre>
                </div>

                <div class="bg-white/10 rounded-lg p-4">
                    <h3 class="font-bold text-xl mb-2">useMediaQuery</h3>
                    <p class="text-sm mb-3">Responsive breakpoints</p>
                    <pre class="text-xs"><code class="language-jsx">function useMediaQuery(query) {
  const [matches, setMatches] = useState(
    window.matchMedia(query).matches
  );

  useEffect(() => {
    const media = window.matchMedia(query);
    const listener = () => setMatches(media.matches);
    
    media.addEventListener('change', listener);
    return () => media.removeEventListener('change', listener);
  }, [query]);

  return matches;
}</code></pre>
                </div>
            </div>
        </section>

        <!-- Practice Projects -->
        <section class="bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg p-8">
            <h2 class="text-3xl font-bold mb-4">üéì Master Through Repetition</h2>
            <p class="text-lg mb-4">Build these 10 custom hooks following the 5-phase workflow:</p>
            
            <div class="grid md:grid-cols-2 gap-4 text-sm">
                <div class="space-y-3">
                    <div class="bg-white/10 p-3 rounded">
                        <p class="font-bold">1. useCounter</p>
                        <p class="text-xs opacity-90">State + increment/decrement/reset functions</p>
                    </div>
                    <div class="bg-white/10 p-3 rounded">
                        <p class="font-bold">2. useLocalStorage</p>
                        <p class="text-xs opacity-90">Persist state to localStorage automatically</p>
                    </div>
                    <div class="bg-white/10 p-3 rounded">
                        <p class="font-bold">3. useFetch</p>
                        <p class="text-xs opacity-90">Data fetching with loading/error states</p>
                    </div>
                    <div class="bg-white/10 p-3 rounded">
                        <p class="font-bold">4. useDebounce</p>
                        <p class="text-xs opacity-90">Delay value updates (search inputs)</p>
                    </div>
                    <div class="bg-white/10 p-3 rounded">
                        <p class="font-bold">5. useToggle</p>
                        <p class="text-xs opacity-90">Boolean with toggle/setTrue/setFalse</p>
                    </div>
                </div>
                <div class="space-y-3">
                    <div class="bg-white/10 p-3 rounded">
                        <p class="font-bold">6. useWindowSize</p>
                        <p class="text-xs opacity-90">Track viewport width/height changes</p>
                    </div>
                    <div class="bg-white/10 p-3 rounded">
                        <p class="font-bold">7. useOnClickOutside</p>
                        <p class="text-xs opacity-90">Detect clicks outside an element (modals)</p>
                    </div>
                    <div class="bg-white/10 p-3 rounded">
                        <p class="font-bold">8. useForm</p>
                        <p class="text-xs opacity-90">Handle inputs, validation, submission</p>
                    </div>
                    <div class="bg-white/10 p-3 rounded">
                        <p class="font-bold">9. usePrevious</p>
                        <p class="text-xs opacity-90">Access previous value in renders</p>
                    </div>
                    <div class="bg-white/10 p-3 rounded">
                        <p class="font-bold">10. useInterval</p>
                        <p class="text-xs opacity-90">setInterval with automatic cleanup</p>
                    </div>
                </div>
            </div>
            
            <div class="mt-6 p-4 bg-white/10 rounded-lg">
                <p class="font-bold">Time Investment:</p>
                <p class="text-sm mt-2">~1.5 hours per hook √ó 10 hooks = ~15 hours total</p>
                <p class="text-sm">After building 5-6 hooks, the pattern becomes second nature.</p>
                <p class="text-sm font-bold mt-2">Result: You'll spot extraction opportunities instantly in real projects!</p>
            </div>
        </section>

        <!-- Common Mistakes -->
        <section class="bg-white rounded-lg shadow-lg p-8">
            <h2 class="text-3xl font-bold mb-6 text-gray-900">‚ö†Ô∏è Common Mistakes to Avoid</h2>
            
            <div class="grid md:grid-cols-2 gap-6">
                <div class="bg-red-50 p-6 rounded-lg border-2 border-red-500">
                    <h3 class="font-bold text-red-900 mb-3">‚ùå Forgetting "use" Prefix</h3>
                    <pre><code class="language-jsx">// Bad - React won't recognize it
function fetchData(url) {
  const [data, setData] = useState(null);
  // ...
}

// Good - Proper hook naming
function useFetchData(url) {
  const [data, setData] = useState(null);
  // ...
}</code></pre>
                </div>

                <div class="bg-red-50 p-6 rounded-lg border-2 border-red-500">
                    <h3 class="font-bold text-red-900 mb-3">‚ùå Missing Dependencies</h3>
                    <pre><code class="language-jsx">// Bad - url not in dependencies
function useFetch(url) {
  useEffect(() => {
    fetch(url).then(/* ... */);
  }, []); // Missing url!
}

// Good - All dependencies listed
function useFetch(url) {
  useEffect(() => {
    fetch(url).then(/* ... */);
  }, [url]); // Correct!
}</code></pre>
                </div>

                <div class="bg-red-50 p-6 rounded-lg border-2 border-red-500">
                    <h3 class="font-bold text-red-900 mb-3">‚ùå Calling Hooks Conditionally</h3>
                    <pre><code class="language-jsx">// Bad - Breaks Rules of Hooks
function useAuth() {
  if (someCondition) {
    const [user, setUser] = useState(null);
  }
}

// Good - Hooks at top level
function useAuth() {
  const [user, setUser] = useState(null);
  if (someCondition) {
    // Use values conditionally
  }
}</code></pre>
                </div>

                <div class="bg-red-50 p-6 rounded-lg border-2 border-red-500">
                    <h3 class="font-bold text-red-900 mb-3">‚ùå No Cleanup in Effects</h3>
                    <pre><code class="language-jsx">// Bad - Memory leak!
function useInterval(callback, delay) {
  useEffect(() => {
    setInterval(callback, delay);
    // No cleanup!
  }, [callback, delay]);
}

// Good - Proper cleanup
function useInterval(callback, delay) {
  useEffect(() => {
    const id = setInterval(callback, delay);
    return () => clearInterval(id);
  }, [callback, delay]);
}</code></pre>
                </div>
            </div>
        </div>

        <!-- Final Tips -->
        <section class="bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg p-8">
            <h2 class="text-3xl font-bold mb-6">üí° Pro Tips</h2>
            
            <div class="grid md:grid-cols-2 gap-6">
                <div class="bg-white/10 p-4 rounded-lg">
                    <h3 class="font-bold text-lg mb-2">üéØ When to Extract</h3>
                    <ul class="text-sm space-y-2 ml-4 list-disc">
                        <li>Copy-pasted the same useState/useEffect twice? Extract!</li>
                        <li>More than 3 useState calls in one component? Consider extraction</li>
                        <li>Logic could be useful in other projects? Definitely extract</li>
                    </ul>
                </div>

                <div class="bg-white/10 p-4 rounded-lg">
                    <h3 class="font-bold text-lg mb-2">üìÅ File Organization</h3>
                    <pre class="text-xs mt-2"><code class="language-bash">src/
  hooks/
    useFetch.js
    useLocalStorage.js
    useDebounce.js
  components/
    UserProfile.jsx  // imports hooks</code></pre>
                </div>

                <div class="bg-white/10 p-4 rounded-lg">
                    <h3 class="font-bold text-lg mb-2">üìù Add TypeScript</h3>
                    <pre class="text-xs mt-2"><code class="language-jsx">function useFetch<T>(url: string): {
  data: T | null;
  loading: boolean;
  error: Error | null;
} {
  // Implementation
}</code></pre>
                </div>

                <div class="bg-white/10 p-4 rounded-lg">
                    <h3 class="font-bold text-lg mb-2">üß™ Test Your Hooks</h3>
                    <pre class="text-xs mt-2"><code class="language-jsx">import { renderHook } from '@testing-library/react';

test('useFetch loads data', async () => {
  const { result } = renderHook(() => 
    useFetch('/api/test')
  );
  // Assert loading, data, error states
});</code></pre>
                </div>
            </div>
        </section>

    </div>

    <!-- Footer -->
    <div class="max-w-6xl mx-auto mt-12 text-center text-gray-600 text-sm">
        <p class="font-bold mb-2">Print this guide. Follow the 5 phases. Build 10 custom hooks.</p>
        <p>Transform from copy-pasting logic ‚Üí creating reusable abstractions.</p>
        <p class="mt-4 text-xs">Total mastery time: ~15-20 hours of deliberate practice</p>
    </div>

    <script>
        // Initialize Highlight.js
        hljs.highlightAll();
    </script>

</body>
</html>